(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{844:function(t,e,o){"use strict";o.r(e);var a=o(122),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"handling-consumption-event"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#handling-consumption-event"}},[t._v("#")]),t._v(" Handling Consumption Event")]),t._v(" "),o("p",[t._v("When a gift card is consumed, it will publish a distributed event with "),o("code",[t._v("GiftCardConsumedEto")]),t._v(", so other modules can provide services to the consumer by handling this event.")]),t._v(" "),o("h2",{attrs:{id:"how-to-handle"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#how-to-handle"}},[t._v("#")]),t._v(" How to Handle?")]),t._v(" "),o("p",[t._v("We have a sample to show you how to handle the event. See: "),o("a",{attrs:{href:"https://github.com/EasyAbp/GiftCardManagement/blob/master/sample/MyProject/aspnet-core/src/MyProject.Domain/UserGifts/GiftCardConsumedEventHandler.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("GiftCardConsumedEventHandler"),o("OutboundLink")],1),t._v(".")]),t._v(" "),o("h2",{attrs:{id:"advanced-usage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#advanced-usage"}},[t._v("#")]),t._v(" Advanced Usage")]),t._v(" "),o("p",[t._v("Sometimes your case is complicated.")]),t._v(" "),o("h3",{attrs:{id:"consumption-with-extraproperties"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#consumption-with-extraproperties"}},[t._v("#")]),t._v(" Consumption with ExtraProperties")]),t._v(" "),o("p",[t._v("For example: You want to create a new tenant by consuming a gift card, you need to input "),o("code",[t._v("TenantName")]),t._v(".")]),t._v(" "),o("ol",[o("li",[t._v("When you are consuming, input the "),o("code",[t._v("ExtraProperties")]),t._v(" with "),o("code",[t._v("TenantName")]),t._v(" in the ConsumeGiftCardDto.")]),t._v(" "),o("li",[t._v("The GiftCardConsumedEto will carry the information as "),o("code",[t._v("GiftCardExtraProperties")]),t._v(".")])]),t._v(" "),o("h3",{attrs:{id:"allow-anonymous-consuming"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#allow-anonymous-consuming"}},[t._v("#")]),t._v(" Allow Anonymous Consuming")]),t._v(" "),o("ol",[o("li",[t._v("Set property "),o("code",[t._v("AnonymousConsumptionAllowed")]),t._v(" of the entity GiftCardTemplate to "),o("code",[t._v("true")]),t._v(".")]),t._v(" "),o("li",[t._v("Do not use the default consumption page (since it requires the permission and do not support customizing the ExtraProperties).")])]),t._v(" "),o("h3",{attrs:{id:"customization"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#customization"}},[t._v("#")]),t._v(" Customization")]),t._v(" "),o("p",[t._v("You can almost override everything. See the ABP document: "),o("a",{attrs:{href:"https://docs.abp.io/en/abp/latest/Customizing-Application-Modules-Guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("Customizing the Existing Modules"),o("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);e.default=n.exports}}]);