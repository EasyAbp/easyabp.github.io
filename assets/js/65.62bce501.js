(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{711:function(t,e,o){"use strict";o.r(e);var a=o(73),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"handling-consumption-event"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#handling-consumption-event"}},[t._v("#")]),t._v(" Handling Consumption Event")]),t._v(" "),e("p",[t._v("When a gift card is consumed, it will publish a distributed event with "),e("code",[t._v("GiftCardConsumedEto")]),t._v(", so other modules can provide services to the consumer by handling this event.")]),t._v(" "),e("h2",{attrs:{id:"how-to-handle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-handle"}},[t._v("#")]),t._v(" How to Handle?")]),t._v(" "),e("p",[t._v("We have a sample to show you how to handle the event. See: "),e("a",{attrs:{href:"https://github.com/EasyAbp/GiftCardManagement/blob/master/sample/MyProject/aspnet-core/src/MyProject.Domain/UserGifts/GiftCardConsumedEventHandler.cs",target:"_blank",rel:"noopener noreferrer"}},[t._v("GiftCardConsumedEventHandler"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"advanced-usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#advanced-usage"}},[t._v("#")]),t._v(" Advanced Usage")]),t._v(" "),e("p",[t._v("Sometimes your case is complicated.")]),t._v(" "),e("h3",{attrs:{id:"consumption-with-extraproperties"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#consumption-with-extraproperties"}},[t._v("#")]),t._v(" Consumption with ExtraProperties")]),t._v(" "),e("p",[t._v("For example: You want to create a new tenant by consuming a gift card, you need to input "),e("code",[t._v("TenantName")]),t._v(".")]),t._v(" "),e("ol",[e("li",[t._v("When you are consuming, input the "),e("code",[t._v("ExtraProperties")]),t._v(" with "),e("code",[t._v("TenantName")]),t._v(" in the ConsumeGiftCardDto.")]),t._v(" "),e("li",[t._v("The GiftCardConsumedEto will carry the information as "),e("code",[t._v("GiftCardExtraProperties")]),t._v(".")])]),t._v(" "),e("h3",{attrs:{id:"allow-anonymous-consuming"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#allow-anonymous-consuming"}},[t._v("#")]),t._v(" Allow Anonymous Consuming")]),t._v(" "),e("ol",[e("li",[t._v("Set property "),e("code",[t._v("AnonymousConsumptionAllowed")]),t._v(" of the entity GiftCardTemplate to "),e("code",[t._v("true")]),t._v(".")]),t._v(" "),e("li",[t._v("Do not use the default consumption page (since it requires the permission and do not support customizing the ExtraProperties).")])]),t._v(" "),e("h3",{attrs:{id:"customization"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customization"}},[t._v("#")]),t._v(" Customization")]),t._v(" "),e("p",[t._v("You can almost override everything. See the ABP document: "),e("a",{attrs:{href:"https://docs.abp.io/en/abp/latest/Customizing-Application-Modules-Guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("Customizing the Existing Modules"),e("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);e.default=n.exports}}]);