(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{663:function(e,t,a){"use strict";a.r(t);var o=a(73),r=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"module-development-specification"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#module-development-specification"}},[e._v("#")]),e._v(" Module Development Specification")]),e._v(" "),t("p",[e._v("This document introduces the module development specification of the EasyAbp organization. Follow these rules and designs if you want to join and contribute.")]),e._v(" "),t("h2",{attrs:{id:"basic-knowledges"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#basic-knowledges"}},[e._v("#")]),e._v(" Basic Knowledges")]),e._v(" "),t("p",[e._v("Please read through the ABP official document: "),t("a",{attrs:{href:"https://docs.abp.io/en/abp/latest/Module-Development-Basics",target:"_blank",rel:"noopener noreferrer"}},[e._v("Module Development"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"standardization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#standardization"}},[e._v("#")]),e._v(" Standardization")]),e._v(" "),t("p",[e._v("We have some standards based on the official document: "),t("a",{attrs:{href:"https://docs.abp.io/en/abp/latest/Best-Practices/Index",target:"_blank",rel:"noopener noreferrer"}},[e._v("Module Development Best Practices & Conventions"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"abstraction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#abstraction"}},[e._v("#")]),e._v(" Abstraction")]),e._v(" "),t("p",[e._v("Try to design an abstract module and provide more implementations.")]),e._v(" "),t("ul",[t("li",[e._v("Good practice: "),t("code",[e._v("EasyAbp.Abp.Sms")]),e._v(", "),t("code",[e._v("EasyAbp.Abp.Sms.Aws")]),e._v(", "),t("code",[e._v("EasyAbp.Abp.Sms.Azure")]),e._v(".")]),e._v(" "),t("li",[e._v("Bad practice: "),t("code",[e._v("EasyAbp.Abp.AzureSms")]),e._v(".")])]),e._v(" "),t("h3",{attrs:{id:"module-naming"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#module-naming"}},[e._v("#")]),e._v(" Module Naming")]),e._v(" "),t("p",[e._v("Example of module solution name:")]),e._v(" "),t("ul",[t("li",[e._v("Application module: "),t("code",[e._v("EasyAbp.TodoManagement")]),e._v(".")]),e._v(" "),t("li",[e._v("Framework module: "),t("code",[e._v("EasyAbp.Abp.Todo")]),e._v(" (including the prefix "),t("code",[e._v("Abp.")]),e._v(").")])]),e._v(" "),t("blockquote",[t("p",[e._v("For framework modules, the better name of "),t("code",[e._v("XxxxxxModule")]),e._v(" class for framework module is "),t("code",[e._v("AbpXxxxxxModule")]),e._v(".")])]),e._v(" "),t("h3",{attrs:{id:"domain-services"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#domain-services"}},[e._v("#")]),e._v(" Domain Services")]),e._v(" "),t("ul",[t("li",[e._v("Add a "),t("code",[e._v("[UnitOfWork]")]),e._v(" attribute to the method that uses repositories.")]),e._v(" "),t("li",[e._v("Don't use any write-operation method of repositories. That also means you will never add a "),t("code",[e._v("[UnitOfWork(IsTransactional = true)]")]),e._v(" attribute.")])]),e._v(" "),t("h3",{attrs:{id:"distributed-events"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#distributed-events"}},[e._v("#")]),e._v(" Distributed Events")]),e._v(" "),t("p",[e._v("Todo.")]),e._v(" "),t("h3",{attrs:{id:"solution-structure"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#solution-structure"}},[e._v("#")]),e._v(" Solution Structure")]),e._v(" "),t("p",[e._v("Read the document "),t("a",{attrs:{href:"https://github.com/EasyAbp/EasyAbpGuide/blob/master/docs/Getting-Start-to-Develop-Modules.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Getting Start to Develop Modules"),t("OutboundLink")],1),e._v(" and follow it to adjust your module solution from the startup template.")]),e._v(" "),t("h3",{attrs:{id:"more-virtual-methods"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#more-virtual-methods"}},[e._v("#")]),e._v(" More Virtual Methods")]),e._v(" "),t("p",[e._v("According to https://github.com/abpframework/abp/issues/3166")]),e._v(" "),t("ul",[t("li",[e._v("Make all public/protected methods virtual (including entities, domain services, application services, page models, view components...) to make them easily overridable.")]),e._v(" "),t("li",[e._v('Make all private methods of domain & application services "protected virtual" to also be able to override them.')])]),e._v(" "),t("p",[e._v("Generally, please virtualize the above methods, but you should also think about maintainability and consider protecting some methods if necessary.")]),e._v(" "),t("h3",{attrs:{id:"multi-tenancy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#multi-tenancy"}},[e._v("#")]),e._v(" Multi-tenancy")]),e._v(" "),t("ul",[t("li",[e._v("Let your entities implement "),t("code",[e._v("IMultiTenant")]),e._v(" if your module can be designed to support multi-tenancy.")]),e._v(" "),t("li",[e._v("Make sure permissions are host-side only if they should be hidden from tenant users and vice versa.")])]),e._v(" "),t("h3",{attrs:{id:"menu-items"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#menu-items"}},[e._v("#")]),e._v(" Menu Items")]),e._v(" "),t("p",[e._v("Refer to the "),t("a",{attrs:{href:"https://github.com/EasyAbp/GiftCardManagement/blob/master/src/EasyAbp.GiftCardManagement.Web/GiftCardManagementMenuContributor.cs",target:"_blank",rel:"noopener noreferrer"}},[e._v("MenuContributor demo"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("ul",[t("li",[e._v("The name of menu item should have a "),t("code",[e._v("CompanyName+ModuleName")]),e._v(" prefix, for example: "),t("code",[e._v("EasyAbpGiftCardManagementGiftCard")]),e._v(" is the "),t("code",[e._v("GiftCard")]),e._v(" using the "),t("code",[e._v("EasyAbpGiftCardManagement")]),e._v(" prefix.")]),e._v(" "),t("li",[e._v("Create a "),t("code",[e._v("CompanyName+ModuleName")]),e._v(" menu item as the root of the module and put other menu items into it, hide it if there is nosub menu item inside.")])]),e._v(" "),t("h3",{attrs:{id:"retain-a-parameterless-constructor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#retain-a-parameterless-constructor"}},[e._v("#")]),e._v(" Retain a Parameterless Constructor")]),e._v(" "),t("p",[e._v("Always retain a protected or public parameterless constructor, since serializers need it.")]),e._v(" "),t("div",{staticClass:"language-c# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("public class Book\n{\n    protected Book() { }\n}\n")])])]),t("h3",{attrs:{id:"user-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-data"}},[e._v("#")]),e._v(" User Data")]),e._v(" "),t("p",[e._v("There are two ways to get user data (such as UserName and PhoneNumber):")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Get from ABP's identity module.")]),e._v(" "),t("ul",[t("li",[e._v("Use "),t("code",[e._v("IExternalUserLookupServiceProvider")]),e._v(" instead of "),t("code",[e._v("IIdentityUserRepository")]),e._v(" or "),t("code",[e._v("IIdentityUserAppService")]),e._v(" in all your code to get user's data.")])])]),e._v(" "),t("li",[t("p",[e._v("Create an local extra user entity (like "),t("code",[e._v("BlogUser")]),e._v(") and synchronize data from IdentityUser.")]),e._v(" "),t("ul",[t("li",[e._v("See ABP document: "),t("a",{attrs:{href:"https://docs.abp.io/en/abp/latest/Customizing-Application-Modules-Extending-Entities#creating-a-new-entity-with-its-own-database-table-collection",target:"_blank",rel:"noopener noreferrer"}},[e._v("Creating a New Entity with Its Own Database Table/Collection"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[e._v("Use "),t("code",[e._v("IDistributedEventHandler")]),e._v(" instead of "),t("code",[e._v("ILocalEventHandler")]),e._v(" to synchronize user data.")])])])]),e._v(" "),t("h3",{attrs:{id:"inherits-extensibleobject"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#inherits-extensibleobject"}},[e._v("#")]),e._v(" Inherits ExtensibleObject")]),e._v(" "),t("p",[e._v("Classes with "),t("code",[e._v("IHasExtraProperties")]),e._v(" should inherit "),t("code",[e._v("ExtensibleObject")]),e._v(".")]),e._v(" "),t("p",[e._v("Otherwise, you should make sure:")]),e._v(" "),t("ol",[t("li",[e._v("The class has "),t("code",[e._v("[Serializable]")]),e._v(" attribute.")]),e._v(" "),t("li",[e._v("The ExtraProperties property has "),t("code",[e._v("[JsonInclude]")]),e._v(" attribute.")]),e._v(" "),t("li",[e._v("The ExtraProperties property has a protected setter.")])]),e._v(" "),t("h3",{attrs:{id:"using-iclock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-iclock"}},[e._v("#")]),e._v(" Using IClock")]),e._v(" "),t("p",[e._v("Use "),t("code",[e._v("IClock.Now")]),e._v(" instead of "),t("code",[e._v("DateTime.Now")]),e._v(" or "),t("code",[e._v("DateTime.UtcNow")]),e._v(" in all your code to get current date time.")]),e._v(" "),t("h3",{attrs:{id:"using-configureawait-fody"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-configureawait-fody"}},[e._v("#")]),e._v(" Using ConfigureAwait.Fody")]),e._v(" "),t("p",[e._v("Refer to the "),t("a",{attrs:{href:"https://github.com/EasyAbp/PrivateMessaging/blob/master/common.props",target:"_blank",rel:"noopener noreferrer"}},[e._v("common.props"),t("OutboundLink")],1),e._v(" and the "),t("a",{attrs:{href:"https://github.com/EasyAbp/PrivateMessaging/blob/master/src/EasyAbp.PrivateMessaging.Domain/FodyWeavers.xml",target:"_blank",rel:"noopener noreferrer"}},[e._v("FodyWeavers.xml"),t("OutboundLink")],1),e._v(" demos.")]),e._v(" "),t("ul",[t("li",[e._v("Add "),t("code",[e._v("Fody")]),e._v(" and "),t("code",[e._v("ConfigureAwait.Fody")]),e._v(" references to module projects.")]),e._v(" "),t("li",[e._v("Set "),t("code",[e._v('<ConfigureAwait ContinueOnCapturedContext="false" />')]),e._v(".")])]),e._v(" "),t("h3",{attrs:{id:"don-t-use-the-auto-api-controllers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#don-t-use-the-auto-api-controllers"}},[e._v("#")]),e._v(" Don't Use the Auto API Controllers")]),e._v(" "),t("p",[e._v("The ABP auto API controllers is not friendly to tiered solutions, so please use the "),t("a",{attrs:{href:"https://github.com/EasyAbp/AbpHelper.GUI/blob/master/doc/AbpHelper-CLI/Generate-Controller-Code/Usage.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("AbpHelper"),t("OutboundLink")],1),e._v(" to generate controllers manually.")]),e._v(" "),t("h3",{attrs:{id:"change-and-use-name-constants"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#change-and-use-name-constants"}},[e._v("#")]),e._v(" Change and Use Name Constants")]),e._v(" "),t("ul",[t("li",[e._v("Open "),t("code",[e._v("MyModuleNamePermissions.cs")]),e._v(" and change "),t("strong",[e._v("GroupName")]),e._v(" to "),t("code",[e._v("EasyAbp.MyModuleName")]),e._v(".")]),e._v(" "),t("li",[e._v("Open "),t("code",[e._v("MyModuleNameSettings.cs")]),e._v(" and change "),t("strong",[e._v("GroupName")]),e._v(" to "),t("code",[e._v("EasyAbp.MyModuleName")]),e._v(".")]),e._v(" "),t("li",[e._v("Open "),t("code",[e._v("MyModuleNameRemoteServiceConsts.cs")]),e._v(" and change "),t("strong",[e._v("RemoteServiceName")]),e._v(" to "),t("code",[e._v("EasyAbpMyModuleName")]),e._v(".")]),e._v(" "),t("li",[e._v("Open "),t("code",[e._v("MyModuleNameRemoteServiceConsts.cs")]),e._v(" and change "),t("strong",[e._v("ModuleName")]),e._v(" to "),t("code",[e._v("easyAbpMyModuleName")]),e._v(".")]),e._v(" "),t("li",[e._v("Open "),t("code",[e._v("MyModuleNameResource.cs")]),e._v(" and replace "),t("code",[e._v('[LocalizationResourceName("MyModuleName")]')]),e._v(" with "),t("code",[e._v('[LocalizationResourceName("EasyAbpMyModuleName")]')]),e._v(".")]),e._v(" "),t("li",[e._v("Open "),t("code",[e._v("MyModuleNameController.cs")]),e._v(" and add "),t("strong",[e._v("[Area(MyModuleNameServiceConsts.ModuleName)]")]),e._v(" attribute.")])]),e._v(" "),t("h3",{attrs:{id:"depend-on-other-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#depend-on-other-modules"}},[e._v("#")]),e._v(" Depend on Other Modules")]),e._v(" "),t("p",[e._v("Todo.")]),e._v(" "),t("h3",{attrs:{id:"testing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#testing"}},[e._v("#")]),e._v(" Testing")]),e._v(" "),t("p",[e._v("Todo.")]),e._v(" "),t("h3",{attrs:{id:"common-props"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#common-props"}},[e._v("#")]),e._v(" common.props")]),e._v(" "),t("p",[e._v("Follow the steps below:")]),e._v(" "),t("ol",[t("li",[e._v("Copy the "),t("a",{attrs:{href:"https://github.com/EasyAbp/FileManagement/blob/master/common.props",target:"_blank",rel:"noopener noreferrer"}},[e._v("common.props"),t("OutboundLink")],1),e._v(" demo to your module.")]),e._v(" "),t("li",[e._v("Edit "),t("code",[e._v("Version")]),e._v(", "),t("code",[e._v("Description")]),e._v(", "),t("code",[e._v("PackageTags")]),e._v(" and "),t("code",[e._v("PackageLicenseExpression")]),e._v(". (Don't follow the ABP framework's version.)")])]),e._v(" "),t("h3",{attrs:{id:"readme-md"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#readme-md"}},[e._v("#")]),e._v(" README.md")]),e._v(" "),t("p",[e._v("Refer to the "),t("a",{attrs:{href:"https://github.com/EasyAbp/FileManagement/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("README.md"),t("OutboundLink")],1),e._v(" demo. You can customize the structure, but in fact similar formats are more readable.")]),e._v(" "),t("h3",{attrs:{id:"packaging-and-publishing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#packaging-and-publishing"}},[e._v("#")]),e._v(" Packaging and Publishing")]),e._v(" "),t("p",[e._v("Refer to the "),t("a",{attrs:{href:"https://github.com/EasyAbp/FileManagement/tree/master/.github/workflows/publish.yml",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub Action demo"),t("OutboundLink")],1),e._v(", configure your project publication jobs. The NuGet packages will be automatic built and published after you commit code to the "),t("strong",[e._v("master")]),e._v(" branch with a new module version.")]),e._v(" "),t("h3",{attrs:{id:"continuous-updating"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#continuous-updating"}},[e._v("#")]),e._v(" Continuous Updating")]),e._v(" "),t("ul",[t("li",[e._v("EasyAbp modules always follow the latest version of ABP framework, so when a new version ABP released, you should upgrade your modules as soon as possible.")]),e._v(" "),t("li",[e._v("Write down the roadmap in README.md with reference to this "),t("a",{attrs:{href:"https://github.com/EasyAbp/FileManagement/blob/master/docs/README.md#road-map",target:"_blank",rel:"noopener noreferrer"}},[e._v("demo"),t("OutboundLink")],1),e._v(" and implement them when you have time and inspiration.")]),e._v(" "),t("li",[e._v("Create a new GitHub release and announce all the "),t("strong",[e._v("breaking changes")]),e._v(" before publish new version pacakges to NuGet.")])]),e._v(" "),t("h2",{attrs:{id:"contribute-to-easyabp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contribute-to-easyabp"}},[e._v("#")]),e._v(" Contribute to EasyAbp")]),e._v(" "),t("p",[e._v("Welcome to contribute to EasyAbp organization, you can publish new modules or improve existing modules for us.")]),e._v(" "),t("h3",{attrs:{id:"publish-new-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publish-new-modules"}},[e._v("#")]),e._v(" Publish New Modules")]),e._v(" "),t("p",[e._v("If you want to contribute a new module to EasyAbp, please create an issue "),t("a",{attrs:{href:"https://github.com/EasyAbp/EasyAbpGuide/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(" to introduce your design and provide the link to your module Github repository. We will evaluate your design and review your code, if the module is well-designed and needed, we will add it to EasyAbp org.")]),e._v(" "),t("h3",{attrs:{id:"improve-existing-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#improve-existing-modules"}},[e._v("#")]),e._v(" Improve Existing Modules")]),e._v(" "),t("p",[e._v("If you want to improve an existing module, please create a PR in the module Github repository, which we will review and merge if it is needed.")])])}),[],!1,null,null,null);t.default=r.exports}}]);