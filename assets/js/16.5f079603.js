(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{762:function(e,t,a){"use strict";a.r(t);var o=a(106),r=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"module-development-specification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-development-specification"}},[e._v("#")]),e._v(" Module Development Specification")]),e._v(" "),a("p",[e._v("This document introduces the module development specification of the EasyAbp organization. Follow these rules and designs if you want to join and contribute.")]),e._v(" "),a("h2",{attrs:{id:"basic-knowledges"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-knowledges"}},[e._v("#")]),e._v(" Basic Knowledges")]),e._v(" "),a("p",[e._v("Please read through the ABP official document: "),a("a",{attrs:{href:"https://docs.abp.io/en/abp/latest/Module-Development-Basics",target:"_blank",rel:"noopener noreferrer"}},[e._v("Module Development"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"standardization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#standardization"}},[e._v("#")]),e._v(" Standardization")]),e._v(" "),a("p",[e._v("We have some standards based on the official document: "),a("a",{attrs:{href:"https://docs.abp.io/en/abp/latest/Best-Practices/Index",target:"_blank",rel:"noopener noreferrer"}},[e._v("Module Development Best Practices & Conventions"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"abstraction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#abstraction"}},[e._v("#")]),e._v(" Abstraction")]),e._v(" "),a("p",[e._v("Try to design an abstract module and provide more implementations.")]),e._v(" "),a("ul",[a("li",[e._v("Good practice: "),a("code",[e._v("EasyAbp.Abp.Sms")]),e._v(", "),a("code",[e._v("EasyAbp.Abp.Sms.Aws")]),e._v(", "),a("code",[e._v("EasyAbp.Abp.Sms.Azure")]),e._v(".")]),e._v(" "),a("li",[e._v("Bad practice: "),a("code",[e._v("EasyAbp.Abp.AzureSms")]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"module-naming"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-naming"}},[e._v("#")]),e._v(" Module Naming")]),e._v(" "),a("p",[e._v("Example of module solution name:")]),e._v(" "),a("ul",[a("li",[e._v("Application module: "),a("code",[e._v("EasyAbp.TodoManagement")]),e._v(".")]),e._v(" "),a("li",[e._v("Framework module: "),a("code",[e._v("EasyAbp.Abp.Todo")]),e._v(" (including the prefix "),a("code",[e._v("Abp.")]),e._v(").")])]),e._v(" "),a("blockquote",[a("p",[e._v("For framework modules, the better name of "),a("code",[e._v("XxxxxxModule")]),e._v(" class for framework module is "),a("code",[e._v("AbpXxxxxxModule")]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"solution-structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#solution-structure"}},[e._v("#")]),e._v(" Solution Structure")]),e._v(" "),a("p",[e._v("Read the document "),a("a",{attrs:{href:"https://github.com/EasyAbp/EasyAbpGuide/blob/master/Getting-Start-to-Develop-Modules.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Getting Start to Develop Modules"),a("OutboundLink")],1),e._v(" and follow the "),a("strong",[e._v("step 2")]),e._v(" and the "),a("strong",[e._v("step 3")]),e._v(" to adjust the solution structure from the startup template.")]),e._v(" "),a("h3",{attrs:{id:"more-virtual-methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#more-virtual-methods"}},[e._v("#")]),e._v(" More Virtual Methods")]),e._v(" "),a("p",[e._v("According to https://github.com/abpframework/abp/issues/3166")]),e._v(" "),a("blockquote",[a("ul",[a("li",[e._v("Make all public/protected methods virtual (including entities, domain services, application services, page models, view components...) to make them easily overridable.")]),e._v(" "),a("li",[e._v('Make all private methods of domain & application services "protected virtual" to also be able to override them.')])])]),e._v(" "),a("p",[e._v("Generally, please virtualize the above methods, but you should also think about maintainability and consider protecting some methods if necessary.")]),e._v(" "),a("h3",{attrs:{id:"multi-tenancy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#multi-tenancy"}},[e._v("#")]),e._v(" Multi-tenancy")]),e._v(" "),a("ul",[a("li",[e._v("Let your entities implement "),a("code",[e._v("IMultiTenant")]),e._v(" if your module can be designed to support multi-tenancy.")]),e._v(" "),a("li",[e._v("Make sure the module is hidden from tenant users on the menu when it is host only.")])]),e._v(" "),a("h3",{attrs:{id:"menu-items"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#menu-items"}},[e._v("#")]),e._v(" Menu Items")]),e._v(" "),a("p",[e._v("Refer to the "),a("a",{attrs:{href:"https://github.com/EasyAbp/GiftCardManagement/blob/master/src/EasyAbp.GiftCardManagement.Web/GiftCardManagementMenuContributor.cs",target:"_blank",rel:"noopener noreferrer"}},[e._v("MenuContributor demo"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("ul",[a("li",[e._v("The name of menu item should have a "),a("code",[e._v("CompanyName+ModuleName")]),e._v(" prefix, for example: "),a("code",[e._v("EasyAbpGiftCardManagementGiftCard")]),e._v(" is the "),a("code",[e._v("GiftCard")]),e._v(" using the "),a("code",[e._v("EasyAbpGiftCardManagement")]),e._v(" prefix.")]),e._v(" "),a("li",[e._v("Create a "),a("code",[e._v("CompanyName+ModuleName")]),e._v(" menu item as the root of the module and put other menu items into it, hide it if there is nosub menu item inside.")])]),e._v(" "),a("h3",{attrs:{id:"user-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-data"}},[e._v("#")]),e._v(" User Data")]),e._v(" "),a("p",[e._v("There are two ways to get user data (such as UserName and PhoneNumber):")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Get from ABP's identity module.")]),e._v(" "),a("ul",[a("li",[e._v("Use "),a("code",[e._v("IExternalUserLookupServiceProvider")]),e._v(" instead of "),a("code",[e._v("IIdentityUserRepository")]),e._v(" or "),a("code",[e._v("IIdentityUserAppService")]),e._v(" in all your code to get user's data.")])])]),e._v(" "),a("li",[a("p",[e._v("Create an extra user entity and synchronize data from IdentityUser.")]),e._v(" "),a("ul",[a("li",[e._v("See ABP document: "),a("a",{attrs:{href:"https://docs.abp.io/en/abp/latest/Customizing-Application-Modules-Extending-Entities#creating-a-new-entity-with-its-own-database-table-collection",target:"_blank",rel:"noopener noreferrer"}},[e._v("Creating a New Entity with Its Own Database Table/Collection"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("li",[e._v("Use "),a("code",[e._v("IDistributedEventHandler")]),e._v(" instead of "),a("code",[e._v("ILocalEventHandler")]),e._v(" to synchronize user data.")])])])]),e._v(" "),a("h3",{attrs:{id:"using-iclock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-iclock"}},[e._v("#")]),e._v(" Using IClock")]),e._v(" "),a("p",[e._v("Use "),a("code",[e._v("IClock.Now")]),e._v(" instead of "),a("code",[e._v("DateTime.Now")]),e._v(" or "),a("code",[e._v("DateTime.UtcNow")]),e._v(" in all your code to get current date time.")]),e._v(" "),a("h3",{attrs:{id:"using-configureawait-fody"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-configureawait-fody"}},[e._v("#")]),e._v(" Using ConfigureAwait.Fody")]),e._v(" "),a("p",[e._v("Refer to the "),a("a",{attrs:{href:"https://github.com/EasyAbp/PrivateMessaging/blob/master/common.props",target:"_blank",rel:"noopener noreferrer"}},[e._v("common.props"),a("OutboundLink")],1),e._v(" and the "),a("a",{attrs:{href:"https://github.com/EasyAbp/PrivateMessaging/blob/master/src/EasyAbp.PrivateMessaging.Domain/FodyWeavers.xml",target:"_blank",rel:"noopener noreferrer"}},[e._v("FodyWeavers.xml"),a("OutboundLink")],1),e._v(" demos.")]),e._v(" "),a("ul",[a("li",[e._v("Add "),a("code",[e._v("Fody")]),e._v(" and "),a("code",[e._v("ConfigureAwait.Fody")]),e._v(" references to module projects.")]),e._v(" "),a("li",[e._v("Set "),a("code",[e._v('<ConfigureAwait ContinueOnCapturedContext="false" />')]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"don-t-use-the-auto-api-controllers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#don-t-use-the-auto-api-controllers"}},[e._v("#")]),e._v(" Don't Use the Auto API Controllers")]),e._v(" "),a("p",[e._v("The ABP auto API controllers is not friendly to tiered solutions, so please use the "),a("a",{attrs:{href:"https://github.com/EasyAbp/AbpHelper.GUI/blob/master/doc/AbpHelper-CLI/Generate-Controller-Code/Usage.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("AbpHelper"),a("OutboundLink")],1),e._v(" to generate controllers manually.")]),e._v(" "),a("h3",{attrs:{id:"change-default-names"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#change-default-names"}},[e._v("#")]),e._v(" Change Default Names")]),e._v(" "),a("ul",[a("li",[e._v("Open "),a("code",[e._v("MyModuleNamePermissions.cs")]),e._v(" and change "),a("strong",[e._v("GroupName")]),e._v(" to "),a("code",[e._v("EasyAbp.MyModuleName")]),e._v(".")]),e._v(" "),a("li",[e._v("Open "),a("code",[e._v("MyModuleNameSettings.cs")]),e._v(" and change "),a("strong",[e._v("GroupName")]),e._v(" to "),a("code",[e._v("EasyAbp.MyModuleName")]),e._v(".")]),e._v(" "),a("li",[e._v("Open "),a("code",[e._v("MyModuleNameResource.cs")]),e._v(" and replace "),a("code",[e._v('[LocalizationResourceName("MyModuleName")]')]),e._v(" with "),a("code",[e._v('[LocalizationResourceName("EasyAbpMyModuleName")]')]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"use-other-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#use-other-modules"}},[e._v("#")]),e._v(" Use Other Modules")]),e._v(" "),a("p",[e._v("Todo.")]),e._v(" "),a("h3",{attrs:{id:"testing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing"}},[e._v("#")]),e._v(" Testing")]),e._v(" "),a("p",[e._v("Todo.")]),e._v(" "),a("h3",{attrs:{id:"common-props"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-props"}},[e._v("#")]),e._v(" common.props")]),e._v(" "),a("p",[e._v("Follow the steps below:")]),e._v(" "),a("ol",[a("li",[e._v("Copy the "),a("a",{attrs:{href:"https://github.com/EasyAbp/PrivateMessaging/blob/master/common.props",target:"_blank",rel:"noopener noreferrer"}},[e._v("common.props"),a("OutboundLink")],1),e._v(" demo to your module.")]),e._v(" "),a("li",[e._v("Edit "),a("code",[e._v("Version")]),e._v(", "),a("code",[e._v("Description")]),e._v(", "),a("code",[e._v("PackageTags")]),e._v(" and "),a("code",[e._v("PackageLicenseExpression")]),e._v(". (Don't follow the ABP framework's version.)")])]),e._v(" "),a("h3",{attrs:{id:"readme-md"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#readme-md"}},[e._v("#")]),e._v(" README.md")]),e._v(" "),a("p",[e._v("Refer to the "),a("a",{attrs:{href:"https://github.com/EasyAbp/SharedResources/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("README.md"),a("OutboundLink")],1),e._v(" demo. You can customize the structure, but in fact similar formats are more readable.")]),e._v(" "),a("h3",{attrs:{id:"packaging-and-publishing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#packaging-and-publishing"}},[e._v("#")]),e._v(" Packaging and Publishing")]),e._v(" "),a("p",[e._v("Refer to the "),a("a",{attrs:{href:"https://github.com/EasyAbp/PrivateMessaging/tree/master/.github/workflows/publish.yml",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub Action demo"),a("OutboundLink")],1),e._v(", configure your project publication jobs. The NuGet packages will be automatic built and published after you commit code to the "),a("strong",[e._v("master")]),e._v(" branch with a new module version.")]),e._v(" "),a("h3",{attrs:{id:"continuous-updating"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#continuous-updating"}},[e._v("#")]),e._v(" Continuous Updating")]),e._v(" "),a("ul",[a("li",[e._v("EasyAbp modules always follow the latest version of ABP vNext framework, so when a new version ABP released, you should upgrade your modules as soon as possible.")]),e._v(" "),a("li",[e._v("Write down the roadmap in README.md with reference to this "),a("a",{attrs:{href:"https://github.com/EasyAbp/SharedResources/blob/master/README.md#roadmap",target:"_blank",rel:"noopener noreferrer"}},[e._v("demo"),a("OutboundLink")],1),e._v(" and implement them when you have time and inspiration.")]),e._v(" "),a("li",[e._v("Create a new GitHub release and announce all the "),a("strong",[e._v("breaking changes")]),e._v(" before publish new version pacakges to NuGet.")])]),e._v(" "),a("h2",{attrs:{id:"contribute-to-easyabp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contribute-to-easyabp"}},[e._v("#")]),e._v(" Contribute to EasyAbp")]),e._v(" "),a("p",[e._v("Welcome to contribute to EasyAbp organization, you can publish new modules or improve existing modules for us.")]),e._v(" "),a("h3",{attrs:{id:"publish-new-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publish-new-modules"}},[e._v("#")]),e._v(" Publish New Modules")]),e._v(" "),a("p",[e._v("If you want to contribute a new module to EasyAbp, please create an issue "),a("a",{attrs:{href:"https://github.com/EasyAbp/EasyAbpGuide/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(" to introduce your design and provide the link to your module Github repository. We will evaluate your design and review your code, if the module is well-designed and needed, we will add it to EasyAbp org.")]),e._v(" "),a("h3",{attrs:{id:"improve-existing-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#improve-existing-modules"}},[e._v("#")]),e._v(" Improve Existing Modules")]),e._v(" "),a("p",[e._v("If you want to improve an existing module, please create a PR in the module Github repository, which we will review and merge if it is needed.")])])}),[],!1,null,null,null);t.default=r.exports}}]);